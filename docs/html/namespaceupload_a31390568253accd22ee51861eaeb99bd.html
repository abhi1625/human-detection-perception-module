<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>YOUR NAME&#39;s CS132 programs: upload.GuessVCS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">YOUR NAME&#39;s CS132 programs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('namespaceupload_a31390568253accd22ee51861eaeb99bd.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<a class="anchor" id="a31390568253accd22ee51861eaeb99bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def upload.GuessVCS </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Helper to guess the version control system.

This examines the current directory, guesses which VersionControlSystem
we're using, and returns an instance of the appropriate class.  Exit with an
error if we can't figure it out.

Returns:
  A VersionControlSystem instance. Exits if the VCS can't be guessed.
</pre> 
<p>Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l01209">1209</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

<p>References <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00109">ErrorExit()</a>, and <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00542">RunShellWithReturnCode()</a>.</p>

<p>Referenced by <a class="el" href="googletest_2scripts_2upload_8py_source.html#l01102">upload.MercurialVCS.GetBaseFile()</a>, and <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l01250">RealMain()</a>.</p>
<div class="fragment"><div class="line"><a name="l01209"></a><span class="lineno"><a class="line" href="namespaceupload_a31390568253accd22ee51861eaeb99bd.html#a31390568253accd22ee51861eaeb99bd"> 1209</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespaceupload_a31390568253accd22ee51861eaeb99bd.html#a31390568253accd22ee51861eaeb99bd">GuessVCS</a>(options):</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="stringliteral">&quot;&quot;&quot;Helper to guess the version control system.</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="stringliteral">  This examines the current directory, guesses which VersionControlSystem</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="stringliteral">  we&#39;re using, and returns an instance of the appropriate class.  Exit with an</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="stringliteral">  error if we can&#39;t figure it out.</span></div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="stringliteral">  Returns:</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="stringliteral">    A VersionControlSystem instance. Exits if the VCS can&#39;t be guessed.</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="stringliteral">  &quot;&quot;&quot;</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="comment"># Mercurial has a command to get the base directory of a repository</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="comment"># Try running it, but don&#39;t die if we don&#39;t have hg installed.</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="comment"># NOTE: we try Mercurial first as it can sit on top of an SVN working copy.</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="keywordflow">try</span>:</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    out, returncode = <a class="code" href="namespaceupload_afa542d3a5a4f4fce174a1c23644a9204.html#afa542d3a5a4f4fce174a1c23644a9204">RunShellWithReturnCode</a>([<span class="stringliteral">&quot;hg&quot;</span>, <span class="stringliteral">&quot;root&quot;</span>])</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    <span class="keywordflow">if</span> returncode == 0:</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classupload_1_1_mercurial_v_c_s.html">MercurialVCS</a>(options, out.strip())</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keywordflow">except</span> OSError, (errno, message):</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">if</span> errno != 2:  <span class="comment"># ENOENT -- they don&#39;t have hg installed.</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <span class="keywordflow">raise</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="comment"># Subversion has a .svn in all working directories.</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="keywordflow">if</span> os.path.isdir(<span class="stringliteral">&#39;.svn&#39;</span>):</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    logging.info(<span class="stringliteral">&quot;Guessed VCS = Subversion&quot;</span>)</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classupload_1_1_subversion_v_c_s.html">SubversionVCS</a>(options)</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="comment"># Git has a command to test if you&#39;re in a git tree.</span></div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="comment"># Try running it, but don&#39;t die if we don&#39;t have git installed.</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="keywordflow">try</span>:</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    out, returncode = <a class="code" href="namespaceupload_afa542d3a5a4f4fce174a1c23644a9204.html#afa542d3a5a4f4fce174a1c23644a9204">RunShellWithReturnCode</a>([<span class="stringliteral">&quot;git&quot;</span>, <span class="stringliteral">&quot;rev-parse&quot;</span>,</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                                              <span class="stringliteral">&quot;--is-inside-work-tree&quot;</span>])</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">if</span> returncode == 0:</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classupload_1_1_git_v_c_s.html">GitVCS</a>(options)</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <span class="keywordflow">except</span> OSError, (errno, message):</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">if</span> errno != 2:  <span class="comment"># ENOENT -- they don&#39;t have git installed.</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">raise</span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <a class="code" href="namespaceupload_adea53186a1d73e92cc839b7c35c2c044.html#adea53186a1d73e92cc839b7c35c2c044">ErrorExit</a>((<span class="stringliteral">&quot;Could not guess version control system. &quot;</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;             <span class="stringliteral">&quot;Are you in a working copy directory?&quot;</span>))</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div><div class="ttc" id="classupload_1_1_subversion_v_c_s_html"><div class="ttname"><a href="classupload_1_1_subversion_v_c_s.html">upload.SubversionVCS</a></div><div class="ttdef"><b>Definition:</b> <a href="googlemock_2scripts_2upload_8py_source.html#l00721">upload.py:721</a></div></div>
<div class="ttc" id="classupload_1_1_git_v_c_s_html"><div class="ttname"><a href="classupload_1_1_git_v_c_s.html">upload.GitVCS</a></div><div class="ttdef"><b>Definition:</b> <a href="googlemock_2scripts_2upload_8py_source.html#l00985">upload.py:985</a></div></div>
<div class="ttc" id="namespaceupload_afa542d3a5a4f4fce174a1c23644a9204_html_afa542d3a5a4f4fce174a1c23644a9204"><div class="ttname"><a href="namespaceupload_afa542d3a5a4f4fce174a1c23644a9204.html#afa542d3a5a4f4fce174a1c23644a9204">upload.RunShellWithReturnCode</a></div><div class="ttdeci">def RunShellWithReturnCode(command, print_output=False, universal_newlines=True)</div><div class="ttdef"><b>Definition:</b> <a href="googlemock_2scripts_2upload_8py_source.html#l00542">upload.py:542</a></div></div>
<div class="ttc" id="namespaceupload_a31390568253accd22ee51861eaeb99bd_html_a31390568253accd22ee51861eaeb99bd"><div class="ttname"><a href="namespaceupload_a31390568253accd22ee51861eaeb99bd.html#a31390568253accd22ee51861eaeb99bd">upload.GuessVCS</a></div><div class="ttdeci">def GuessVCS(options)</div><div class="ttdef"><b>Definition:</b> <a href="googlemock_2scripts_2upload_8py_source.html#l01209">upload.py:1209</a></div></div>
<div class="ttc" id="namespaceupload_adea53186a1d73e92cc839b7c35c2c044_html_adea53186a1d73e92cc839b7c35c2c044"><div class="ttname"><a href="namespaceupload_adea53186a1d73e92cc839b7c35c2c044.html#adea53186a1d73e92cc839b7c35c2c044">upload.ErrorExit</a></div><div class="ttdeci">def ErrorExit(msg)</div><div class="ttdef"><b>Definition:</b> <a href="googlemock_2scripts_2upload_8py_source.html#l00109">upload.py:109</a></div></div>
<div class="ttc" id="classupload_1_1_mercurial_v_c_s_html"><div class="ttname"><a href="classupload_1_1_mercurial_v_c_s.html">upload.MercurialVCS</a></div><div class="ttdef"><b>Definition:</b> <a href="googlemock_2scripts_2upload_8py_source.html#l01042">upload.py:1042</a></div></div>
</div><!-- fragment -->
<p><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespaceupload_a31390568253accd22ee51861eaeb99bd_a31390568253accd22ee51861eaeb99bd_cgraph.png" border="0" usemap="#namespaceupload_a31390568253accd22ee51861eaeb99bd_a31390568253accd22ee51861eaeb99bd_cgraph" alt=""/></div>
<map name="namespaceupload_a31390568253accd22ee51861eaeb99bd_a31390568253accd22ee51861eaeb99bd_cgraph" id="namespaceupload_a31390568253accd22ee51861eaeb99bd_a31390568253accd22ee51861eaeb99bd_cgraph">
<area shape="rect" id="node2" href="namespaceupload_adea53186a1d73e92cc839b7c35c2c044.html#adea53186a1d73e92cc839b7c35c2c044" title="upload.ErrorExit" alt="" coords="612,5,727,32"/>
<area shape="rect" id="node3" href="namespaceupload_afa542d3a5a4f4fce174a1c23644a9204.html#afa542d3a5a4f4fce174a1c23644a9204" title="upload.RunShellWithReturnCode" alt="" coords="184,31,399,57"/>
<area shape="rect" id="node4" href="namespaceupload_adddc423c49132e8879cbb25d6be2cf11.html#adddc423c49132e8879cbb25d6be2cf11" title="upload.RunShell" alt="" coords="447,31,564,57"/>
</map>
</div>
</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="namespaceupload_a31390568253accd22ee51861eaeb99bd_a31390568253accd22ee51861eaeb99bd_icgraph.png" border="0" usemap="#namespaceupload_a31390568253accd22ee51861eaeb99bd_a31390568253accd22ee51861eaeb99bd_icgraph" alt=""/></div>
<map name="namespaceupload_a31390568253accd22ee51861eaeb99bd_a31390568253accd22ee51861eaeb99bd_icgraph" id="namespaceupload_a31390568253accd22ee51861eaeb99bd_a31390568253accd22ee51861eaeb99bd_icgraph">
<area shape="rect" id="node2" href="classupload_1_1_mercurial_v_c_s_a0cdc0cbe6ac4daab82f5f01e6ae2e670.html#a0cdc0cbe6ac4daab82f5f01e6ae2e670" title="upload.MercurialVCS.GetBaseFile" alt="" coords="491,31,712,57"/>
<area shape="rect" id="node3" href="namespaceupload_ad6226af96c9f1905602b8002bd5de952.html#ad6226af96c9f1905602b8002bd5de952" title="upload.RealMain" alt="" coords="184,31,303,57"/>
<area shape="rect" id="node4" href="namespaceupload_aef3fcf7a8d77d13ba75adbf58b6c43ee.html#aef3fcf7a8d77d13ba75adbf58b6c43ee" title="upload.main" alt="" coords="351,81,443,108"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceupload.html">upload</a></li>
    <li class="footer">Generated on Mon Oct 21 2019 15:37:59 for YOUR NAME&#39;s CS132 programs by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
